# 关于this
this会自动定义在所有函数的作用域中，函数会自动的引用合适的上下文对象（this指代函数当前的运行环境。）。
## 误解
### 指向自身（错误）
例如:
```
function f(num){
    console.log('f:'+num)
    this.c++
}
f.c=0
var i
for(i=0;i<10;i++){
    if(i>5){
        f(i)
    }
}
console.log(f.c)//0
console.log(c)//NaN
```
执行f.c=0时，的确向函数对象f添加了一个属性c。但是函数内部代码this的指向并不是那个函数对象，所以属性名相同，但是根对象却不相同。  
全局多一个c，因为引擎在执行f时，里面的this指向全局（当前的运行环境），全局中没有c，所有新建了一个全局的c变量，但是没有值，直接++就会成NaN。  
解决这个问题有很多方法，使用词法作用域直接在全局声明一个对象，函数内访问他即可，不要使用this；使用f标识符代替this来引用函数对象；或者在for执行f的时候使用call绑定到f

### 它的作用域（错误）
this在任何情况下都不指向函数的词法作用域。  
js内部，作用域和对象类似，可见的标识符都是它的属性。但是作用域无法通过js代码访问，它存在js引擎内部。

### this到底是什么
this是在运行时进行绑定的，并不是在编写的时候绑定，它的上下文取决于函数的调用时的各种条件。  
**this既不指向函数自身也不指向函数的词法作用域**。  
**this的绑定和函数的声明位置没有任何关系，只取决于函数的调用方式**。  
当一个函数被调用的时候会创建一个活动记录（执行上下文）。会包含函数在哪里被调用（调用栈），函数的调用方式，传入的参数等信息。this就是这个记录的一个属性，会在函数执行的时候用到。

# this全面解析


# 对象
# 混合对象“类”
# 原型
# 行为委托
# es6class